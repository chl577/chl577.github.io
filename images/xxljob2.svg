<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1024px" preserveAspectRatio="none" style="width:910px;height:1024px;background:#FFFFFF;" version="1.1" viewBox="0 0 910 1024" width="910px" zoomAndPan="magnify"><defs><filter height="300%" id="f1dri0gthzp0f4" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="640" cy="20" fill="#000000" filter="url(#f1dri0gthzp0f4)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1dri0gthzp0f4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="80" x="600" y="50"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="610" y="71.1387">客户端启动</text><path d="M317,108.3867 L317,133.5195 A0,0 0 0 0 317,133.5195 L528,133.5195 A0,0 0 0 0 528,133.5195 L528,126.3867 L548,120.9531 L528,118.3867 L528,118.3867 L518,108.3867 L317,108.3867 A0,0 0 0 0 317,108.3867 " fill="#FBFB77" filter="url(#f1dri0gthzp0f4)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M518,108.3867 L518,118.3867 L528,118.3867 L518,108.3867 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="323" y="125.4536">String[]</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="375" y="125.4536">beanDefinitionNames</text><rect fill="#FEFECE" filter="url(#f1dri0gthzp0f4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="184" x="548" y="103.9688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="164" x="558" y="125.1074">从容器中取出所有bean的名字</text><rect fill="#FEFECE" filter="url(#f1dri0gthzp0f4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="239" x="520.5" y="201.9375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="219" x="530.5" y="223.0762">根据beanDefinitionName获取到bean</text><path d="M191.5,260.3242 L191.5,285.457 A0,0 0 0 0 191.5,285.457 L479.5,285.457 A0,0 0 0 0 479.5,285.457 L479.5,278.3242 L499.5,272.8906 L479.5,270.3242 L479.5,270.3242 L469.5,260.3242 L191.5,260.3242 A0,0 0 0 0 191.5,260.3242 " fill="#FBFB77" filter="url(#f1dri0gthzp0f4)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M469.5,260.3242 L469.5,270.3242 L479.5,270.3242 L469.5,260.3242 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="197.5" y="277.3911">Map&lt;Method, XxlJob&gt;</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="343.5" y="277.3911">annotatedMethods</text><rect fill="#FEFECE" filter="url(#f1dri0gthzp0f4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="281" x="499.5" y="255.9063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="261" x="509.5" y="277.0449">取出bean中带有XxlJob注解的方法，并放入Map</text><path d="M382,358.293 L382,383.4258 A0,0 0 0 0 382,383.4258 L552,383.4258 A0,0 0 0 0 552,383.4258 L552,376.293 L572,370.8594 L552,368.293 L552,368.293 L542,358.293 L382,358.293 A0,0 0 0 0 382,358.293 " fill="#FBFB77" filter="url(#f1dri0gthzp0f4)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M542,358.293 L542,368.293 L552,368.293 L542,358.293 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="388" y="375.3599">JobHandler的名称</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="500" y="375.3599">name</text><rect fill="#FEFECE" filter="url(#f1dri0gthzp0f4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="136" x="572" y="353.875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="116" x="582" y="375.0137">取出XxlJob中的value</text><path d="M272.5,404.6953 L272.5,444.9609 A0,0 0 0 0 272.5,444.9609 L540.5,444.9609 A0,0 0 0 0 540.5,444.9609 L540.5,428.8281 L560.5,424.8281 L540.5,420.8281 L540.5,414.6953 L530.5,404.6953 L272.5,404.6953 A0,0 0 0 0 272.5,404.6953 " fill="#FBFB77" filter="url(#f1dri0gthzp0f4)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M530.5,404.6953 L530.5,414.6953 L540.5,414.6953 L530.5,404.6953 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="278.5" y="421.7622">MethodJobHandler属性</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="13" x="278.5" y="436.895">有</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="291.5" y="436.895">目标对象，执行方法，初始化，销毁方法</text><rect fill="#FEFECE" filter="url(#f1dri0gthzp0f4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="159" x="560.5" y="407.8438"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="139" x="570.5" y="428.9824">构造MethodJobHandler</text><path d="M10,469.3789 L10,494.5117 A0,0 0 0 0 10,494.5117 L496,494.5117 A0,0 0 0 0 496,494.5117 L496,487.3789 L516,481.9453 L496,479.3789 L496,479.3789 L486,469.3789 L10,469.3789 A0,0 0 0 0 10,469.3789 " fill="#FBFB77" filter="url(#f1dri0gthzp0f4)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M486,469.3789 L486,479.3789 L496,479.3789 L486,469.3789 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325" x="16" y="486.4458">private static ConcurrentMap&lt;String, IJobHandler&gt;</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="345" y="486.4458">jobHandlerRepository</text><rect fill="#FEFECE" filter="url(#f1dri0gthzp0f4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="248" x="516" y="464.9609"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="224" x="526" y="486.0996">将name和MethodJobHandler存入Map</text><polygon fill="#FEFECE" filter="url(#f1dri0gthzp0f4)" points="640,309.875,652,321.875,640,333.875,628,321.875,640,309.875" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#FEFECE" filter="url(#f1dri0gthzp0f4)" points="554.5,518.9297,725.5,518.9297,737.5,530.9297,725.5,542.9297,554.5,542.9297,542.5,530.9297,554.5,518.9297" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="171" x="554.5" y="534.7378">annotatedMethods是否遍历完成</text><polygon fill="#FEFECE" filter="url(#f1dri0gthzp0f4)" points="640,157.9375,652,169.9375,640,181.9375,628,169.9375,640,157.9375" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#FEFECE" filter="url(#f1dri0gthzp0f4)" points="546.5,562.9297,733.5,562.9297,745.5,574.9297,733.5,586.9297,546.5,586.9297,534.5,574.9297,546.5,562.9297" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="187" x="546.5" y="578.7378">beanDefinitionNames是否遍历完成</text><rect fill="#FEFECE" filter="url(#f1dri0gthzp0f4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="104" x="588" y="606.9297"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="84" x="598" y="628.0684">初始化日志路径</text><path d="M57.5,657.75 L57.5,698.0156 A0,0 0 0 0 57.5,698.0156 L366.5,698.0156 A0,0 0 0 0 366.5,698.0156 L366.5,681.8828 L386.5,677.8828 L366.5,673.8828 L366.5,667.75 L356.5,657.75 L57.5,657.75 A0,0 0 0 0 57.5,657.75 " fill="#FBFB77" filter="url(#f1dri0gthzp0f4)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M356.5,657.75 L356.5,667.75 L366.5,667.75 L356.5,657.75 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="63.5" y="674.8169">AdminBizClient属性包含</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="211.5" y="674.8169">服务端地址，认证token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="63.5" y="689.9497">rpc invoker</text><rect fill="#FEFECE" filter="url(#f1dri0gthzp0f4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="507" x="386.5" y="660.8984"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="309" x="396.5" y="682.0371">构造AdminBizClient,存入集合，用于执行器的注册和注销</text><text fill="#FF0000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="174" x="709.5" y="682.0371">List&lt;AdminBiz&gt; adminBizList</text><rect fill="#FEFECE" filter="url(#f1dri0gthzp0f4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="249" x="515.5" y="718.0156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="156" x="525.5" y="739.1543">拉起一个作业日志清理线程池</text><text fill="#FF0000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="73" x="681.5" y="739.1543">localThread</text><path d="M279,776.4023 L279,801.5352 A0,0 0 0 0 279,801.5352 L469,801.5352 A0,0 0 0 0 469,801.5352 L469,794.4023 L489,788.9688 L469,786.4023 L469,786.4023 L459,776.4023 L279,776.4023 A0,0 0 0 0 279,776.4023 " fill="#FBFB77" filter="url(#f1dri0gthzp0f4)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M459,776.4023 L459,786.4023 L469,786.4023 L459,776.4023 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="285" y="793.4692">用于作业执行完成回调服务端</text><rect fill="#FEFECE" filter="url(#f1dri0gthzp0f4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="302" x="489" y="771.9844"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="144" x="499" y="793.123">拉起一个调度作业回调日志</text><text fill="#FF0000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="138" x="643" y="793.123">triggerCallbackThread</text><rect fill="#FEFECE" filter="url(#f1dri0gthzp0f4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="358" x="461" y="825.9531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="168" x="471" y="847.0918">拉起一个调度作业重试回调日志</text><text fill="#FF0000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="170" x="639" y="847.0918">triggerRetryCallbackThread</text><rect fill="#FEFECE" filter="url(#f1dri0gthzp0f4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="112" x="584" y="879.9219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="92" x="594" y="901.0605">初始化rpc服务端</text><rect fill="#FEFECE" filter="url(#f1dri0gthzp0f4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="140" x="570" y="933.8906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="120" x="580" y="955.0293">向服务端发起注册请求</text><ellipse cx="640" cy="997.8594" fill="#FFFFFF" filter="url(#f1dri0gthzp0f4)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:2.5;" x1="633.8128" x2="646.1872" y1="991.6722" y2="1004.0466"/><line style="stroke:#000000;stroke-width:2.5;" x1="646.1872" x2="633.8128" y1="991.6722" y2="1004.0466"/><line style="stroke:#A80036;stroke-width:1.5;" x1="640" x2="640" y1="30" y2="50"/><polygon fill="#A80036" points="636,40,640,50,644,40,640,44" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="640" x2="640" y1="83.9688" y2="103.9688"/><polygon fill="#A80036" points="636,93.9688,640,103.9688,644,93.9688,640,97.9688" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="640" x2="640" y1="235.9063" y2="255.9063"/><polygon fill="#A80036" points="636,245.9063,640,255.9063,644,245.9063,640,249.9063" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="640" x2="640" y1="387.8438" y2="407.8438"/><polygon fill="#A80036" points="636,397.8438,640,407.8438,644,397.8438,640,401.8438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="640" x2="640" y1="441.8125" y2="464.9609"/><polygon fill="#A80036" points="636,454.9609,640,464.9609,644,454.9609,640,458.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="640" x2="640" y1="333.875" y2="353.875"/><polygon fill="#A80036" points="636,343.875,640,353.875,644,343.875,640,347.875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="737.5" x2="776" y1="530.9297" y2="530.9297"/><polygon fill="#A80036" points="772,434.8281,776,424.8281,780,434.8281,776,430.8281" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="776" x2="776" y1="321.875" y2="530.9297"/><line style="stroke:#A80036;stroke-width:1.5;" x1="776" x2="652" y1="321.875" y2="321.875"/><polygon fill="#A80036" points="662,317.875,652,321.875,662,325.875,658,321.875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="640" x2="640" y1="498.9297" y2="518.9297"/><polygon fill="#A80036" points="636,508.9297,640,518.9297,644,508.9297,640,512.9297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="640" x2="640" y1="289.875" y2="309.875"/><polygon fill="#A80036" points="636,299.875,640,309.875,644,299.875,640,303.875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="640" x2="640" y1="181.9375" y2="201.9375"/><polygon fill="#A80036" points="636,191.9375,640,201.9375,644,191.9375,640,195.9375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="745.5" x2="800" y1="574.9297" y2="574.9297"/><polygon fill="#A80036" points="796,384.0078,800,374.0078,804,384.0078,800,380.0078" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="800" x2="800" y1="169.9375" y2="574.9297"/><line style="stroke:#A80036;stroke-width:1.5;" x1="800" x2="652" y1="169.9375" y2="169.9375"/><polygon fill="#A80036" points="662,165.9375,652,169.9375,662,173.9375,658,169.9375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="640" x2="640" y1="542.9297" y2="562.9297"/><polygon fill="#A80036" points="636,552.9297,640,562.9297,644,552.9297,640,556.9297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="640" x2="640" y1="137.9375" y2="157.9375"/><polygon fill="#A80036" points="636,147.9375,640,157.9375,644,147.9375,640,151.9375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="640" x2="640" y1="586.9297" y2="606.9297"/><polygon fill="#A80036" points="636,596.9297,640,606.9297,644,596.9297,640,600.9297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="640" x2="640" y1="640.8984" y2="660.8984"/><polygon fill="#A80036" points="636,650.8984,640,660.8984,644,650.8984,640,654.8984" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="640" x2="640" y1="694.8672" y2="718.0156"/><polygon fill="#A80036" points="636,708.0156,640,718.0156,644,708.0156,640,712.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="640" x2="640" y1="751.9844" y2="771.9844"/><polygon fill="#A80036" points="636,761.9844,640,771.9844,644,761.9844,640,765.9844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="640" x2="640" y1="805.9531" y2="825.9531"/><polygon fill="#A80036" points="636,815.9531,640,825.9531,644,815.9531,640,819.9531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="640" x2="640" y1="859.9219" y2="879.9219"/><polygon fill="#A80036" points="636,869.9219,640,879.9219,644,869.9219,640,873.9219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="640" x2="640" y1="913.8906" y2="933.8906"/><polygon fill="#A80036" points="636,923.8906,640,933.8906,644,923.8906,640,927.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="640" x2="640" y1="967.8594" y2="987.8594"/><polygon fill="#A80036" points="636,977.8594,640,987.8594,644,977.8594,640,981.8594" style="stroke:#A80036;stroke-width:1.0;"/></g></svg>